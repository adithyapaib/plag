<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Plagiarism Checker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An Open-Sourced Plagiarism Checker that is made using Reverse Engineering Turnitin Website.">
    <meta name="keywords" content="Plagiarism, Checker, Turnitin, Reverse Engineering, Open Source">
    <meta name="author" content="Adithya Pai B">
    <meta name="theme-color" content="#FFEA20">
    <meta name="msapplication-navbutton-color" content="#FFEA20">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FFEA20">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="google" content="nositelinkssearchbox">
    <meta name="google" content="notranslate">
    <link
        href="https://fonts.googleapis.com/css?family=Poppins:100,100italic,200,200italic,300,300italic,regular,italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"
        rel="stylesheet" />
    <link rel="shortcut icon" href="https://img.icons8.com/emoji/48/null/man-detective.png" type="image/x-icon">
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }

    body {
        background-color: #FFEA20;
    }

    .container {
        padding: 3em;
        text-align: center;
    }

    .title {
        color: #000;
        font-size: 2em;
        font-weight: 700;
        font-family: poppins;
        text-align: center;
    }

    q {
        font-size: 1.2em;
        font-weight: 400;
        margin-bottom: 1em;
        font-family: poppins;
        margin-top: 1em;
    }

    form {
        margin-bottom: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 2em;
    }

    textarea {
        width: 80%;
        height: 40vh;
        padding: 1em;
        font-size: 18px;
        border: none;
        border-radius: 5px;
        resize: none;
        background: #f7f7f7e0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        color: rgb(0, 0, 0);
        outline: none;
        border: none;
        margin-bottom: 2em;
        font-family: poppins;
        padding: 1em 2em;
        border-radius: 20px;
        transition: 0.4s ease;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        text-align: justify;
        line-height: 2;
    }

    textarea:focus {
        border: 5px solid #FFEA20;
        border-radius: 50px;
    }

    textarea::placeholder {
        color: #000000a5;
    }

    button {
        padding: 1.3em 5em;
        font-family: poppins;
        color: #fff;
        font-size: 1em;
        font-weight: 600;
        background-color: #000;
        border: none;
        border-radius: 7px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #f7ea77;
        color: #000;
    }

    body::-webkit-scrollbar-thumb {
        background-color: #000;
        border-radius: 10px;
    }

    body::-webkit-scrollbar {
        width: 10px;
    }

    body::-webkit-scrollbar-track {
        background-color: #fde50e;
        border-radius: 10px;
    }

    .loader {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        top: 0;
        left: 0;
        overflow: hidden;
        z-index: 1000;
        width: 100%;
        min-height: 100vh;
        height: max-content;
        background: #0000009d;
        display: none;
    }

    .load {
        display: block;
        position: absolute;
        width: 100px;
        height: 100px;
        margin: 0 auto;
        border: 10px solid #000;
        border-top: 10px solid #FFEA20;
        border-radius: 50%;
        animation: spin 0.55s linear infinite;
        overflow: hidden;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    #output {
        margin-top: 30px;
        font-size: 18px;
        line-height: 1.5;
    }

    .result {
        margin: 0 auto;
        padding: 50px;
        background-color: #ffffff;
        color: #000;
        letter-spacing: 2px;
        border-radius: 50px 50px 0 0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex-wrap: wrap;
        font: 1.2em poppins;
    }

    p {
        font-size: 0.9em;
        font-weight: 400;
        margin-bottom: 1em;
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex-wrap: wrap;
        text-align: justify;
    }

    ul a {
        font-size: 0.8em;
        font-weight: 400;
        margin-bottom: 1em;
    }

    h5 {
        margin-top: 2em;
    }

    @media screen and (max-width: 768px) {
        button {
            padding: 1em 2.2em;
        }

        textarea {
            width: 90%;
            font-size: 0.8em;
            padding: 0.8em;
        }

        .container {
            padding: 1em;

        }

        .title {
            font-size: 1.6em;
            margin-bottom: 0.5em;

        }

        q {

            padding-top: 2em;
            font-size: 0.9em;
        }

        .result {
            font-size: 1em;
            margin: 8px;
            padding-left: 1.2em;
            padding-right: 1.2em;
            border-radius: 20px;
            word-wrap: break-word;
            word-break: break-all;
        }

        .result h2 {
            font-size: 1em;
        }

        .result p {
            font-size: 0.8em;
            text-align: left;
            overflow: hidden;
            max-width: 100%;
            word-wrap: break-word;
            word-break: break-all;
            margin-top: 0.8em;
        }

        .result ul a {
            font-size: 0.8em;
            text-align: left;
            overflow: hidden;
            max-width: 100%;
            word-wrap: break-word;
            word-break: break-all;
        }

        .result h5 {
            font-size: 0.8em;
            margin-top: 1.5em;
        }

    }
</style>

<body>
    <a href="https://github.com/adithyapaib">
        <img src="https://img.icons8.com/glyph-neue/64/null/github.png" alt="GitHub Icon" style="float:right;">
    </a>
    <div class="container">
        <h2 class="title">Plagiarism Checker</h2>
        <q>A reverse Engineered OpenSource Turnitin based Plagiarism checker </q>

        <form>
            <textarea id="input" placeholder="Enter your text here" name="data"></textarea>
            <button type="submit" id="submitBtn">Check Plagiarism</button>
        </form>
        <div class="loader">
            <div class="load"></div>
        </div>
        <path fill-rule="evenodd" clip-rule="evenodd"
            d="M0 100L4.37114e-06 0L100 4.37114e-06C100 55.2285 55.2285 100 0 100ZM200 100C200 44.7716 155.228 1.88558e-05 100 4.37114e-06V100H0C-4.82822e-06 155.228 44.7715 200 100 200H200V100ZM199.961 100H100V200C100 144.785 144.75 100.021 199.961 100Z"
            fill="url(#paint0_linear_1124_1297)"></path>
    </div>
    <div class="result">
        <h2>Plagiarism Check Results</h2>
        <br>
        <div id="original-text">
            <h5>Original Text:</h5>
            <p></p>
        </div>
        <div id="matches">
            <h5>Matches:</h5>
            <ul></ul>
        </div>
        <div id="percentage">
            <h5>Turnitin Index:</h5>
            <i></i>
        </div>
        <div id="word_count">
            <h5>Words Count:</h5>
            <i></i>
        </div>
    </div>
    <footer style="width: 100%; text-align: center; padding: 2em;">
        <span>By <a href="https://adithyapai.com">Adithya Pai B</a></span>
    </footer>
    <script>
         const form = document.querySelector('form');
        const submitBtn = document.querySelector('#submitBtn');
        const loader = document.querySelector('.loader');
        const output = document.querySelector('#output');
        const controller = new AbortController();
        const getData = async () => {
            const textBoxData = document.querySelector('#input').value;
            if (textBoxData.split(' ').length < 15) {
                alert('Please enter at least 15 words');
                return;
            }
            const postData = { "data": textBoxData };
            const response = await fetch(window.location.href, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(postData)
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    const originalText = data.text;
                    const matches = data.matches;
                    const percentage = data.percent;
                    const word_count = data.words_count;
                    document.querySelector('#original-text p').textContent = originalText;
                    if (percentage > 0) {
                        document.querySelector('#percentage i').textContent = percentage + '%';
                    } else {
                        document.querySelector('#percentage i').textContent = 'No plagiarism found';
                    }
                    if (word_count != undefined) {
                        document.querySelector('#word_count i').textContent = word_count;
                    }
                    for (let i = 0; i < matches.length; i++) {
                        const match = matches[i];
                        const matchUrl = match.url;
                        const matchPercent = match.percent;
                        const matchHighlights = match.highlight;

                        const matchListItem = document.createElement('li');
                        matchListItem.innerHTML = `<a href="${matchUrl}" target="_blank">${matchUrl}</a> (${matchPercent}%)`;
                        const highlightList = document.createElement('ul');

                        for (let j = 0; j < matchHighlights.length; j++) {
                            const highlight = matchHighlights[j];
                            const startIndex = parseInt(highlight[0]);
                            const endIndex = parseInt(highlight[1]);
                        }

                        matchListItem.appendChild(highlightList);
                        document.querySelector('#matches ul').appendChild(matchListItem);
                    }


                })
                .catch(error => console.log(error));


        };

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            console.log('submitted');
            const loader = document.querySelector('.loader');
            loader.style.display = 'block';
            loader.style.position = 'absolute';
            loader.style.width = '100%';
            loader.style.height = '100%';
            loader.style.display = 'flex';
            loader.style.justifyContent = 'center';
            loader.style.alignItems = 'center';
            loader.style.zIndex = '9999';
            loader.style.maxWidth = '100%';
            loader.style.height = '150%';
            loader.style.overflowY = 'hidden';

            await getData().then(() => {
                loader.style.display = 'none';
                document.querySelector('#original-text').scrollIntoView({
                    behavior: 'smooth'
                });

            });
        });
      
      </script>
</body>

</html>